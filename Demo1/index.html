<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>BarcodeDetector</title>
</head>
<body>
  <canvas id="barcode"></canvas>
  <script defer>
    // check compatibility
    if ( !( "BarcodeDetector" in globalThis ) ) {
      document.body.innerText = "Barcode Detector is not supported by this browser.\b";
    } else {
      document.body.innerText = "Barcode Detector supported!\b";

      // create new detector
      const barcodeDetector = new BarcodeDetector( { formats: [ "code_128" ] } );
      barcodeDetector.detect( document.querySelector( "#barcode" ) ).then(( barcodes ) => {
        barcodes.forEach( barcode => document.body.innerText += `${ barcode.rawValue }\b` );
      } ).catch( err => {
        document.body.innerText = `${ err }\b`;
      });
    }
  </script>
</body>
</html>